<h1>タスク一覧</h1>

<p><a href="{% url 'accounts:create' %}">新規作成</a></p>

<table>
    <thead>
        <tr>
        <th scope="col">タイトル</th>
        <th scope="col">期限</th>
        <th scope="col">重要度</th>
        <th scope="col">優先度</th>
        </tr>
    </thead>
    <tbody>
    {% for task in tasks %}
    <tr>
        <td>{{ task.title }}</td>
        <td>{{ task.deadline }}</td>
        <td>{{ task.urgency }}</td>
        <td>{{ task.importance }}</td>
        <td><a href="{% url 'accounts:detail' task.pk %}">詳細</a></td>
        <td><a href="{% url 'accounts:update' task.pk %}">編集</a></td>
        <td><a href="{% url 'accounts:delete' task.pk %}">削除</a></td>
        <td>
            {% if task.is_past_due %}
                <span style="color: red;">期限が過ぎています！</span>
            {% elif task.is_approaching_deadline %}
                <span style="color: orange;">締め切りまで3日以内です！</span>
            {% endif %}
        </td>
    </tr>
    {% endfor %}
    </tbody>
</table>